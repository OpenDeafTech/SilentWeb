<!-- tests/e2e/fixtures/audio.html -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>audio</title>
  </head>
  <body>
    <audio id="testAudio"></audio>
    <button id="playBtn">Play</button>
    <button id="pauseBtn">Pause</button>
    <script>
      const audio = document.getElementById("testAudio");
      const setState = (state) => {
        audio.dataset.state = state;
      };

      // Shim audio playback so we don't depend on real media assets.
      audio.dataset.ready = "true";
      setState("paused");
      audio.play = () => {
        setState("playing");
        return Promise.resolve();
      };
      audio.pause = () => {
        setState("paused");
      };

      document.getElementById("playBtn").onclick = () => audio.play();
      document.getElementById("pauseBtn").onclick = () => audio.pause();
    </script>
  </body>
</html>
